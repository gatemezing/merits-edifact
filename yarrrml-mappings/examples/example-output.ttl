@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix era: <http://example.org/merits/ontology#> .
@prefix skdupd: <http://example.org/merits/skdupd/> .
@prefix tsdupd: <http://example.org/merits/tsdupd/> .
@prefix meta: <http://example.org/merits/skdupd/meta/> .    
@prefix schema: <http://schema.org/> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix era: <http://data.europa.eu/949/> .
@prefix geo: <http://www.w3.org/2003/01/geo/wgs84_pos#> .

# ============================================================================
# Example RDF Output from SKDUPD (Timetable Data)
# ============================================================================

# Message Metadata
meta:2022-07-26T112758 a era:MessageMetadata ;
    dct:identifier "2022-07-26T112758" ;
    era:validityPeriodStart "2021-01-01"^^xsd:date ;
    era:validityPeriodEnd "2021-12-12"^^xsd:date ;
    era:originator "0000" ;
    dct:created "2022-07-26T112758"^^xsd:dateTime .

# Train Service
skdupd:train/1 a era:Train, schema:TrainTrip ;
    dct:identifier "1" ;
    era:serviceNumber "3" ;
    era:serviceName "ALPHA TANGO"@en ;
    era:serviceMode "3" ;
    era:serviceProvider "0060" ;
    era:reservationCode "11" ;
    era:tariffCode "1" ;
    era:reservationCompany "80" ;
    era:secondServiceNumber "33" ;
    era:periodQualifier "273" ;
    era:operatingDays "101111" ;
    era:startDate "2021-08-23"^^xsd:date ;
    era:endDate "2021-08-28"^^xsd:date .

# Point of Route 1 - Departure Station
skdupd:por/1 a era:PointOfRoute, era:OperationalPoint ;
    dct:identifier "1" ;
    era:belongsToTrain skdupd:train/1 ;
    era:uicCode "006070001" ;
    era:departureTime "05:03:00"^^xsd:time ;
    era:departurePlatform "1" ;
    era:locationQualifier "5" ;
    era:asdCode01 "7" ;
    era:asdCode02 "44" ;
    era:asdLastTime02 "04:53:00"^^xsd:time ;
    era:trfCode01 "1" .

# Point of Route 2 - Intermediate Station with Connection Info
skdupd:por/2 a era:PointOfRoute, era:OperationalPoint ;
    dct:identifier "2" ;
    era:belongsToTrain skdupd:train/1 ;
    era:uicCode "006070013" ;
    era:arrivalTime "04:45:00"^^xsd:time ;
    era:arrivalOffset "1"^^xsd:integer ;
    era:departureTime "04:00:00"^^xsd:time ;
    era:departureOffset "1"^^xsd:integer ;
    era:arrivalPlatform "3" ;
    era:departurePlatform "3" ;
    era:locationQualifier "17" ;
    era:distance "190"^^xsd:integer ;
    era:distanceUnit "KMT" ;
    era:asdCode01 "9" ;
    era:asdCode02 "44" ;
    era:asdLastTime02 "03:30:00"^^xsd:time ;
    era:asdCode03 "45" ;
    era:asdFirstTime03 "05:05:00"^^xsd:time ;
    era:trfCode01 "4" .

# Point of Route 3 - Arrival Station
skdupd:por/3 a era:PointOfRoute, era:OperationalPoint ;
    dct:identifier "3" ;
    era:belongsToTrain skdupd:train/1 ;
    era:uicCode "006070016" ;
    era:arrivalTime "05:00:00"^^xsd:time ;
    era:distance "200"^^xsd:integer ;
    era:distanceUnit "KMT" ;
    era:asdCode01 "45" ;
    era:asdFirstTime01 "05:40:00"^^xsd:time .

# Train Connection at Station 2
skdupd:relation/1 a era:TrainConnection ;
    dct:identifier "1" ;
    era:atPointOfRoute skdupd:por/2 ;
    era:referenceFunctionCode "AUE" ;
    era:connectedServiceNumber "02" ;
    era:relationTypeCode "13" ;
    era:relationValue "8" .

skdupd:relation/2 a era:TrainConnection;
    dct:identifier "2" ;
    era:atPointOfRoute skdupd:por/2 ;
    era:referenceFunctionCode "AUE" ;
    era:connectedServiceNumber "45" ;
    era:relationTypeCode "13" ;
    era:relationValue "7" ;
    era:transferTime "10"^^xsd:integer ;
    era:transferCertainty "1" .

# Origin-Destination Information
skdupd:odi/1 a era:OriginDestinationInfo ;
    dct:identifier "1" ;
    era:belongsToTrain skdupd:train/1 ;
    era:fromStop "006070001" ;
    era:toStop "006070013" ;
    era:fromStopNumber "1"^^xsd:integer ;
    era:toStopNumber "2"^^xsd:integer ;
    era:brandCode "84" .

skdupd:odi/2 a era:OriginDestinationInfo ;
    dct:identifier "2" ;
    era:belongsToTrain skdupd:train/1 ;
    era:fromStop "006070013" ;
    era:toStop "006070016" ;
    era:fromStopNumber "2"^^xsd:integer ;
    era:toStopNumber "3"^^xsd:integer ;
    era:brandCode "58" .

# ============================================================================
# Example RDF Output from TSDUPD (Location Data)
# ============================================================================

# Message Metadata
tsdupd:meta/2022-03-24T112355 a era:MessageMetadata ;
    dct:identifier "2022-03-24T112355" ;
    era:validityPeriodStart "2022-01-01"^^xsd:date ;
    era:validityPeriodEnd "2999-12-31"^^xsd:date ;
    era:originator "0000" ;
    dct:created "2022-03-24T112355"^^xsd:dateTime .

# Stop Information - Piraeus, Greece
tsdupd:stop/1 a  era:OperationalPoint;
    dct:identifier "1" ;
    era:functionCode "29" ;
    era:uicCode "007300101" ;
    era:opName "Piraeus"@en ;
    era:shortName "Piraeus"@en ;
    geo:lat "375656N" ;
    geo:long "233833E" ;
    schema:validFrom "2021-08-12"^^xsd:date ;
    schema:validThrough "2999-12-31"^^xsd:date ;
    era:defaultTransferTime "5"^^xsd:integer ;
    schema:addressCountry "GR" ;
    era:timezone1 "EET" ;
    era:timezone2 "2" ;
    era:reservationCode "007300101" .

# Stop Information - Milano Villapizzone, Italy
tsdupd:stop/2 a  era:OperationalPoint;
    dct:identifier "2" ;
    era:functionCode "29" ;
    era:uicCode "008301666" ;
    era:opName "MILANO VILLAPIZZONE"@en ;
    geo:lat "453015N" ;
    geo:long "090839E" ;
    schema:validFrom "2002-10-24"^^xsd:date ;
    schema:validThrough "2008-11-12"^^xsd:date ;
    era:defaultTransferTime "10"^^xsd:integer ;
    schema:addressCountry "IT" ;
    era:timezone1 "CET" ;
    era:timezone2 "1" .

# Stop Information - Milano Centrale
tsdupd:stop/3 a  era:OperationalPoint;
    dct:identifier "3" ;
    era:functionCode "29" ;
    era:uicCode "008301699" ;
    era:opName "MILANO CENTRALE (TR. NORD MILA"@en ;
    schema:validFrom "1987-12-31"^^xsd:date ;
    schema:validThrough "2008-12-01"^^xsd:date ;
    era:defaultTransferTime "10"^^xsd:integer ;
    schema:addressCountry "IT" ;
    era:timezone1 "CET" ;
    era:timezone2 "1" .

# Synonym for Milano Centrale
tsdupd:synonym/1 a era:StationSynonym ;
    dct:identifier "1" ;
    era:forStop tsdupd:stop/3 ;
    era:referenceFunctionCode "AWN" ;
    era:synonymUicCode "008301700" ;
    schema:alternateName "Milano Centrale Nord"@en .

# Minimum Connection Time
tsdupd:mct/1 a era:MinimumConnectionTime, schema:TransferAction ;
    dct:identifier "1" ;
    era:atStop tsdupd:stop/3 ;
    era:referenceFunctionCode "AWN" ;
    era:arrivalServiceNumber "008301700" ;
    era:connectionTime "10"^^xsd:integer ;
    era:relationTypeCode "13" ;
    era:relationValue "6" .

tsdupd:mct/2 a era:MinimumConnectionTime, schema:TransferAction ;
    dct:identifier "2" ;
    era:atStop tsdupd:stop/3 ;
    era:referenceFunctionCode "AWN" ;
    era:arrivalServiceNumber "008301700" ;
    era:connectionTime "20"^^xsd:integer ;
    era:relationTypeCode "13" ;
    era:relationValue "6" .

# Footpath Connection
tsdupd:footpath/1 a era:Footpath, schema:WalkAction ;
    dct:identifier "1" ;
    era:fromStop tsdupd:stop/1 ;
    era:referenceFunctionCode "AWN" ;
    era:toStopUicCode "007350001" ;
    era:walkingTime "8"^^xsd:integer ;
    era:relationTypeCode "13" ;
    era:relationValue "6" .

# ============================================================================
# Example SPARQL Queries
# ============================================================================

# Query 1: Find all trains with their stops and times
# SELECT ?trainName ?stopUIC ?arrival ?departure
# WHERE {
#   ?train a era:Train ;
#          era:serviceName ?trainName .
#   ?por era:belongsToTrain ?train ;
#        era:uicCode ?stopUIC .
#   OPTIONAL { ?por era:arrivalTime ?arrival }
#   OPTIONAL { ?por era:departureTime ?departure }
# }

# Query 2: Find stations in Italy with their coordinates
# SELECT ?name ?lat ?long
# WHERE {
#   ?stop a era:Stop ;
#         era:opName ?name ;
#         schema:addressCountry "IT" ;
#         geo:lat ?lat ;
#         geo:long ?long .
# }

# Query 3: Find walking connections from a station
# SELECT ?fromStopName ?toStopUIC ?walkTime
# WHERE {
#   ?stop era:opName ?fromStopName .
#   ?footpath era:fromStop ?stop ;
#             era:toStopUicCode ?toStopUIC ;
#             era:walkingTime ?walkTime .
# }
